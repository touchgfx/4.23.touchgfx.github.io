"use strict";(self.webpackChunktouchgfx_documentation=self.webpackChunktouchgfx_documentation||[]).push([[62818],{49613:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>m});var r=n(59496);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=r.createContext({}),c=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=c(e.components);return r.createElement(p.Provider,{value:t},e.children)},s="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},g=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,p=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),s=c(n),g=o,m=s["".concat(p,".").concat(g)]||s[g]||d[g]||a;return n?r.createElement(m,l(l({ref:t},u),{},{components:n})):r.createElement(m,l({ref:t},u))}));function m(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,l=new Array(a);l[0]=g;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i[s]="string"==typeof e?e:o,l[1]=i;for(var c=2;c<a;c++)l[c]=n[c];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}g.displayName="MDXCreateElement"},12822:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(59496),o=n(32118);const a=function(e){const t=e.noShadow||!1,n=e.width,a=e.height,l=(0,o.Z)(e.imageSource);return t?r.createElement("div",{className:"figure noshadow"},r.createElement("a",{href:l,target:"_blank"},r.createElement("img",{width:n,height:a,src:l})),r.createElement("p",null,e.children)):r.createElement("div",{className:"figure"},r.createElement("a",{href:l,target:"_blank"},r.createElement("img",{width:n,height:a,src:l})),r.createElement("p",null,e.children))}},66590:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(59496);class o extends r.Component{render(){return r.createElement("code",{className:"shortcut"},this.props.children)}}const a=o},84596:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>c,default:()=>h,frontMatter:()=>p,metadata:()=>u,toc:()=>d});n(59496);var r=n(49613),o=n(12822),a=n(66590);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const p={id:"vector-fonts",title:"\u5411\u91cf\u5b57\u578b"},c=void 0,u={unversionedId:"development/ui-development/touchgfx-engine-features/vector-fonts",id:"development/ui-development/touchgfx-engine-features/vector-fonts",title:"\u5411\u91cf\u5b57\u578b",description:"TouchGFX\u81ea4.23\u7248\u958b\u59cb\u652f\u63f4\u4f7f\u7528\u5411\u91cf\u683c\u5f0f\u5b57\u578b\u3002 \u4ee5\u5411\u91cf\u683c\u5f0f\u5132\u5b58\u7684\u5b57\u578b\uff0c\u6709\u52a9\u65bc\u6e1b\u5c11\u5b57\u578b\u8cc7\u6599\u7684\u5927\u5c0f\uff0c\u56e0\u70ba\u5b57\u578b\u8cc7\u6599\u6703\u5728\u6240\u6709\u5927\u5c0f\u7684\u5b57\u578b\u4e4b\u9593\u5171\u7528\u3002 \u76f8\u8f03\u4e4b\u4e0b\uff0c\u6bcf\u7a2e\u5b57\u578b\u5927\u5c0f\u7684\u9ede\u9663\u5716\u5b57\u578b\u90fd\u6709\u8a72\u5927\u5c0f\u5b57\u7b26\u5c08\u5c6c\u7684\u9ede\u9663\u5716\u3002",source:"@site/i18n/zh-TW/docusaurus-plugin-content-docs/current/development/ui-development/touchgfx-engine-features/vector-fonts.mdx",sourceDirName:"development/ui-development/touchgfx-engine-features",slug:"/development/ui-development/touchgfx-engine-features/vector-fonts",permalink:"/4.23/zh-TW/docs/development/ui-development/touchgfx-engine-features/vector-fonts",draft:!1,tags:[],version:"current",frontMatter:{id:"vector-fonts",title:"\u5411\u91cf\u5b57\u578b"},sidebar:"docs",previous:{title:"SVG",permalink:"/4.23/zh-TW/docs/development/ui-development/touchgfx-engine-features/svg"},next:{title:"\u5716\u50cf\u58d3\u7e2e",permalink:"/4.23/zh-TW/docs/development/ui-development/touchgfx-engine-features/image-compression"}},s={},d=[{value:"\u4ec0\u9ebc\u662f\u5411\u91cf\u5b57\u578b",id:"what-are-vector-fonts",level:2},{value:"\u7bc4\u4f8b",id:"\u7bc4\u4f8b",level:3},{value:"\u8a2d\u5b9a",id:"vector-configuration",level:2},{value:"\u4f7f\u7528\u5411\u91cf\u5b57\u578b",id:"vector-using",level:2},{value:"\u5b57\u9ad4\u6392\u5370",id:"vector-typographies",level:2},{value:"\u67b6\u69cb",id:"vector-architecture",level:2},{value:"\u9650\u5236",id:"vector-limitations",level:2},{value:"Winding rules",id:"winding-rules",level:3},{value:"Using FontForge",id:"using-fontforge",level:4},{value:"\u5132\u5b58",id:"vector-storage",level:3},{value:"\u6cf0\u6587",id:"\u6cf0\u6587",level:3}],g={toc:d},m="wrapper";function h(e){var{components:t}=e,n=i(e,["components"]);return(0,r.kt)(m,l({},g,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"TouchGFX\u81ea4.23\u7248\u958b\u59cb\u652f\u63f4\u4f7f\u7528\u5411\u91cf\u683c\u5f0f\u5b57\u578b\u3002 \u4ee5\u5411\u91cf\u683c\u5f0f\u5132\u5b58\u7684\u5b57\u578b\uff0c\u6709\u52a9\u65bc\u6e1b\u5c11\u5b57\u578b\u8cc7\u6599\u7684\u5927\u5c0f\uff0c\u56e0\u70ba\u5b57\u578b\u8cc7\u6599\u6703\u5728\u6240\u6709\u5927\u5c0f\u7684\u5b57\u578b\u4e4b\u9593\u5171\u7528\u3002 \u76f8\u8f03\u4e4b\u4e0b\uff0c\u6bcf\u7a2e\u5b57\u578b\u5927\u5c0f\u7684\u9ede\u9663\u5716\u5b57\u578b\u90fd\u6709\u8a72\u5927\u5c0f\u5b57\u7b26\u5c08\u5c6c\u7684\u9ede\u9663\u5716\u3002"),(0,r.kt)("p",null,"\u5411\u91cf\u5b57\u578b\u7528\u65bc\u4f7f\u7528\u8005\u4ecb\u9762\uff0c\u5c31\u50cf\u662f\u4f7f\u7528TextArea\u6216ButtonWithLabel\u7b49\u5c0f\u5de5\u5177\u7684\u4e00\u822c\u9ede\u9663\u5716\u5b57\u578b\u3002"),(0,r.kt)("p",null,"\u8981\u4f7f\u7528\u5411\u91cf\u5b57\u578b\u683c\u5f0f\uff0c\u5c31\u5fc5\u9808\u5728STM32CubeMX\u70ba\u5e73\u53f0\u555f\u7528\u5411\u91cf\u5b57\u578b\u529f\u80fd\u3002"),(0,r.kt)("p",null,"\u5411\u91cf\u5b57\u578b\u50c5\u65bc16bpp\u300124bpp\u621632bpp\u5f71\u50cf\u7de9\u885d\u5340\u7372\u5f97\u652f\u63f4\u3002"),(0,r.kt)("h2",l({},{id:"what-are-vector-fonts"}),"\u4ec0\u9ebc\u662f\u5411\u91cf\u5b57\u578b"),(0,r.kt)("p",null,"\u5411\u91cf\u5b57\u578b\u662f\u6307\u4ee5\u66f2\u7dda\u53ca\u76f4\u7dda\u63cf\u8ff0\u7684\u500b\u5225\u5b57\u6bcd\u3002 \u9019\u985e\u66f2\u7dda\u53ca\u76f4\u7dda\u53ef\u653e\u5927\u53ca\u7e2e\u5c0f\uff0c\u4ee5\u7522\u751f\u4e0d\u540c\u5927\u5c0f\u7684\u5b57\u7b26\u3002 \u6211\u5011\u4e00\u822c\u5728TouchGFX\u4f7f\u7528\u7684\u6240\u6709\u5b57\u578b\u90fd\u662f\u5411\u91cf\u5b57\u578b(\u4f8b\u5982TrueType\u6216OpenType\u5b57\u578b)\u3002 \u5b57\u578b\u63cf\u8ff0\u4e2d\u7684\u66f2\u7dda\u53ca\u76f4\u7dda\u6703\u5728TouchGFX Designer\u7522\u751f\u5716\u8cc7\u6642\uff0c\u7531TouchGFX Font Converter\u8f49\u63db\u70ba\u8a31\u591a\u5c0f\u578b\u9ede\u9663\u5716\u3002"),(0,r.kt)("p",null,"\u5c07\u5411\u91cf\u5b57\u578b\u8f49\u63db\u70ba\u9ede\u9663\u5716\u6642\uff0c\u662f\u4ee5TouchGFX Designer\u4e4b\u4e2d\u5b9a\u7fa9\u7684\u5b57\u9ad4\u6392\u5370\u70ba\u57fa\u790e\u3002 \u4f8b\u5982\u61c9\u7528\u7a0b\u5f0f\u53ef\u80fd\u4f7f\u7528\u5927\u53ca\u5c0f\u9019\u5169\u7a2e\u5b57\u9ad4\u6392\u5370\u3002 \u5927\u53ef\u80fd\u662f\u4ee5\u5927\u5c0f30\u7684Verdana\u70ba\u57fa\u790e\uff0c\u5c0f\u53ef\u80fd\u662f\u4ee5\u5927\u5c0f20\u7684Verdana\u70ba\u57fa\u790e\u3002 \u5982\u679c\u6211\u5011\u5047\u8a2d\u61c9\u7528\u7a0b\u5f0f\u5728\u9019\u985e\u5b57\u9ad4\u6392\u5370\u4e2d\u4f7f\u7528\u5b57\u7b26A-Z\u548ca-z\uff0c\u5247\u6bcf\u500b\u5b57\u9ad4\u6392\u5370\u5c31\u6703\u670952\u500b\u5b57\u7b26\uff0c\u4e0d\u904e\u61c9\u7528\u7a0b\u5f0f\u5c07\u5305\u542b104\u500b\u9ede\u9663\u5716\uff0c\u56e0\u70ba\u6bcf\u500b\u5b57\u6bcd\u6703\u6709\u5169\u500b\u9ede\u9663\u5716\uff0c \u4e5f\u5c31\u662f\u4e00\u500b\u9ede\u9663\u5716\u7528\u65bc\u5927\u5c0f30\uff0c\u53e6\u4e00\u500b\u7528\u65bc\u5927\u5c0f20\u3002"),(0,r.kt)("p",null,"\u5411\u91cf\u5b57\u578b\u5247\u4e0d\u4e00\u6a23\uff0c\u56e0\u70ba\u6211\u5011\u6703\u4fdd\u7559\u5b57\u7b26\u7684\u5411\u91cf\u5b9a\u7fa9\uff0c\u4e0d\u6703\u5efa\u7acb\u5b57\u7b26\u7684\u9ede\u9663\u5716\uff0c \u800c\u662f\u53ea\u8b93\u5411\u91cf\u5b9a\u7fa9\u5305\u542b\u5728\u76ee\u6a19\u61c9\u7528\u7a0b\u5f0f\u4e2d\u4e00\u6b21\u3002 \u7522\u751f\u6240\u9700\u5169\u7a2e\u5b57\u9ad4\u6392\u5370\u6642\u552f\u4e00\u9700\u8981\u7684\u984d\u5916\u8cc7\u6599\uff0c\u5c31\u662f\u5169\u7a2e\u4e0d\u540c\u7684\u7e2e\u653e\u4fc2\u6578\u3002 \u5176\u4e2d\u4e00\u500b\u4fc2\u6578\u7528\u65bc\u5c07\u5411\u91cf\u5b9a\u7fa9\u653e\u5927\u70ba\u5927\u5c0f30\uff0c\u53e6\u4e00\u500b\u5247\u7528\u65bc\u7e2e\u5c0f\u81f3\u5927\u5c0f20\u3002"),(0,r.kt)("p",null,"\u56e0\u6b64\u5982\u679c\u6211\u5011\u5c07\u53e6\u4e00\u500b\u5b57\u9ad4\u6392\u5370\u5927\u5c0f\u65b0\u589e\u81f3\u7bc4\u4f8b\u61c9\u7528\u7a0b\u5f0f\uff0c\u4f8b\u5982\u5927\u5c0f40\u7684Verdana\uff0c\u5247Flash\u9700\u6c42\u53ea\u6703\u7565\u5fae\u589e\u52a0\u3002"),(0,r.kt)("h3",l({},{id:"\u7bc4\u4f8b"}),"\u7bc4\u4f8b"),(0,r.kt)("p",null,"\u8209\u4f8b\u4f86\u8aaa\uff0cTruetype\u5b57\u578bVerdana\u4e2d\u300cG\u300d\u7684\u5411\u91cf\u5b9a\u7fa9\u70ba170\u4f4d\u5143\u7d44\u3002"),(0,r.kt)("p",null,"\u4ee3\u8868\u5b57\u7b26\u7684\u9ede\u9663\u5716\u5927\u5c0f\uff0c\u53d6\u6c7a\u65bc\u4f7f\u7528\u7684bpp\u53ca\u5b57\u7b26\u5927\u5c0f\u3002 \u4e0b\u8868\u986f\u793a4bpp\u5404\u7a2e\u5b57\u7b26\u5927\u5c0f\u4e2d\u300cG\u300d\u7684\u9ede\u9663\u5716\u5927\u5c0f\uff1a"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",l({parentName:"tr"},{align:null}),"\u5b57\u578b\u5927\u5c0f"),(0,r.kt)("th",l({parentName:"tr"},{align:null}),"G\u5b57\u7b26\u5927\u5c0f/\u50cf\u7d20"),(0,r.kt)("th",l({parentName:"tr"},{align:null}),"\u9ede\u9663\u5716\u5927\u5c0f/\u4f4d\u5143\u7d44"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",l({parentName:"tr"},{align:null}),"20"),(0,r.kt)("td",l({parentName:"tr"},{align:null}),"14 x 14"),(0,r.kt)("td",l({parentName:"tr"},{align:null}),"98")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",l({parentName:"tr"},{align:null}),"30"),(0,r.kt)("td",l({parentName:"tr"},{align:null}),"21 x 22"),(0,r.kt)("td",l({parentName:"tr"},{align:null}),"242")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",l({parentName:"tr"},{align:null}),"40"),(0,r.kt)("td",l({parentName:"tr"},{align:null}),"27 x 32"),(0,r.kt)("td",l({parentName:"tr"},{align:null}),"448")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",l({parentName:"tr"},{align:null}),"\u7e3d\u8a08"),(0,r.kt)("td",l({parentName:"tr"},{align:null})),(0,r.kt)("td",l({parentName:"tr"},{align:null}),"788")))),(0,r.kt)("p",null,"\u6211\u5011\u767c\u73fe\u5b57\u578b\u5927\u5c0f20\u7684\u9ede\u9663\u5716\u5927\u5c0f\uff0c\u6bd4\u300cG\u300d\u7684\u5411\u91cf\u5b9a\u7fa9\u66f4\u5c0f\uff0c\u4e0d\u904e\u5982\u679c\u662f\u5927\u5c0f30\uff0c\u5411\u91cf\u5b9a\u7fa9\u5247\u6bd4\u9ede\u9663\u5716\u5927\u5c0f\u66f4\u5c0f\u3002 \u5982\u679c\u6211\u5011\u4f7f\u7528\u4e09\u7a2e\u4e0d\u540c\u5927\u5c0f\u7684Verdana\uff0c\u9ede\u9663\u5716\u5c31\u9054\u5230788\u4f4d\u5143\u7d44\uff0c\u4f46\u5411\u91cf\u5b9a\u7fa9\u4ecd\u50c5\u4f7f\u7528170\u4f4d\u5143\u7d44\u3002 \u56e0\u6b64\u6211\u5011\u53ef\u4ee5\u7bc0\u7701\u4f7f\u752878%\u7684Flash\u3002"),(0,r.kt)("p",null,"\u9019\u7a2e\u7bc0\u7701\u7a7a\u9593\u7684\u4f5c\u6cd5\u6709\u4e00\u9805\u7f3a\u9ede\uff0c\u5c31\u662f\u6548\u80fd\u554f\u984c\u3002 \u5982\u679c\u6211\u5011\u9700\u8981\u7e6a\u88fd\u5b57\u7b26\uff0c\u5c31\u5fc5\u9808\u5c07\u5411\u91cf\u5b9a\u7fa9\u8f49\u63db\u70ba\u50cf\u7d20\u3002 \u8f49\u63db\u65b9\u5f0f\u70ba\u7e2e\u653e\u53ca\u8f49\u8b6f\u5b57\u7b26\u7684\u5411\u91cf\u5b9a\u7fa9\uff0c\u7136\u5f8c\u5c07\u5176\u6e32\u67d3\u81f3\u5f71\u50cf\u7de9\u885d\u5340\u3002"),(0,r.kt)("p",null,"\u5728Verdana\u4e2d\u4e00\u500b\u300cG\u300d\u662f\u753120\u689dBezier\u66f2\u7dda\u53ca6\u689d\u76f4\u7dda\u7d44\u6210\u3002 \u9019\u4e9b\u7dda\u689d\u90fd\u6703\u8f49\u63db\u70ba\u8f2a\u5ed3\uff0c\u65bc\u6700\u5f8c\u4f7f\u7528\u9078\u53d6\u7684\u6587\u5b57\u8272\u5f69\u52a0\u4ee5\u4e0a\u8272\u3002 \u9019\u9805\u6d41\u7a0b\u6703\u91cd\u8907\u7528\u65bc\u6587\u5b57\u4e2d\u7684\u6240\u6709\u5b57\u6bcd\uff0c\u800c\u4e14\u53ea\u8981\u6587\u5b57\u91cd\u65b0\u7e6a\u88fd\u5c31\u6703\u91cd\u8907\u9032\u884c\u3002"),(0,r.kt)("p",null,"\u4e0a\u8ff0\u6d41\u7a0b\u6703\u5728\u6709\u914d\u7f6eGPU2D\u7684\u5fae\u63a7\u5236\u5668 (\u4f8b\u5982STM32U5G9)\u4e0a\u9032\u884c\u786c\u9ad4\u52a0\u901f\u3002 \u5982\u679c\u662fSTM32G0\u9019\u985e\u6c92\u6709\u6d6e\u9ede\u786c\u9ad4\u7684\u7de9\u6162\u5fae\u63a7\u5236\u5668\uff0c\u786c\u9ad4\u5728\u57f7\u884c\u9019\u985e\u4f5c\u696d\u6642\u5c31\u6703\u5f88\u8cbb\u529b\u3002"),(0,r.kt)("p",null,"\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\uff0c\u4f7f\u7528\u9ede\u9663\u5716\u5b57\u578b\u6642\u6bd4\u8f03\u9069\u5408\u4f7f\u7528\u6e32\u67d3\u3002 \u56e0\u6b64\u6211\u5011\u5efa\u8b70\u5728\u5fc5\u9808\u7bc0\u7701Flash\u7684\u60c5\u6cc1\u4e0b\u4f7f\u7528\u5411\u91cf\u5b57\u578b\uff0c\u5176\u4ed6\u60c5\u6cc1\u5247\u4f7f\u7528\u9ede\u9663\u5716\u5b57\u578b\u3002",(0,r.kt)("br",{parentName:"p"}),"\n","\u5982\u679c\u6587\u5b57\u6709\u52d5\u756b\u7279\u6548(\u4f8b\u5982\u6372\u52d5\u3001\u79fb\u52d5\u6216\u6de1\u5316)\uff0c\u5247\u5efa\u8b70\u4f7f\u7528\u9ede\u9663\u5716\u5b57\u578b\u3002"),(0,r.kt)("h2",l({},{id:"vector-configuration"}),"\u8a2d\u5b9a"),(0,r.kt)("p",null,"\u4f7f\u7528\u5411\u91cf\u5b57\u578b\u6642\u9700\u8981",(0,r.kt)("inlineCode",{parentName:"p"},"Vector Rendering")," (\u5411\u91cf\u6e32\u67d3)\u53ca",(0,r.kt)("inlineCode",{parentName:"p"},"Vector Fonts")," (\u5411\u91cf\u5b57\u578b)\u9019\u5169\u9805\u984d\u5916\u7684\u67b6\u69cb\u529f\u80fd\u3002 \u524d\u8ff0\u529f\u80fd\u65bcSTM32CubeMX\u4e2d\u555f\u7528\u3002 \u66f4\u591a\u8a73\u7d30\u8cc7\u8a0a\u8acb\u53c3\u95b1",(0,r.kt)("a",l({parentName:"p"},{href:"../../touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/additional-features#vector-rendering"}),"Generator\u4f7f\u7528\u8005\u6307\u5357"),"\u3002"),(0,r.kt)("p",null,"\u5b57\u9ad4\u6392\u5370\u662f\u5728TouchGFX Designer\u4e2d\u8a2d\u5b9a\u3002 \u60a8\u53ef\u5728\u5176\u4e2d\u9078\u64c7\u5c08\u6848\u5b57\u9ad4\u6392\u5370\u662f\u5426\u61c9\u4f7f\u7528\u9ede\u9663\u5716\u5b57\u578b\u6216\u5411\u91cf\u5b57\u578b\u683c\u5f0f\u3002 \u9810\u8a2d\u70ba\u9ede\u9663\u5716\u5b57\u578b\u683c\u5f0f\u3002"),(0,r.kt)("h2",l({},{id:"vector-using"}),"\u4f7f\u7528\u5411\u91cf\u5b57\u578b"),(0,r.kt)("p",null,"\u5411\u91cf\u5b57\u578b\u5728TouchGFX\u4e2d\u5c31\u662f\u4f5c\u70ba\u9ede\u9663\u5716\u5b57\u578b\u4f7f\u7528\u3002 \u60a8\u53ef\u5efa\u7acb\u6587\u5b57\u4f5c\u70ba\u547d\u540d\u8cc7\u6e90\u6216\u4e00\u6b21\u6027\u4f7f\u7528\u6587\u5b57\u3002 \u60a8\u53ef\u5728\u5176\u4e2d\u4e00\u500b\u5c0f\u5de5\u5177\u986f\u793a\u6587\u5b57\uff0c\u4f8b\u5982TextArea\u3002 \u5411\u91cf\u5b57\u578b\u8207\u9ede\u9663\u5716\u5b57\u578b\u4e4b\u9593\u7684\u5dee\u7570\u96b1\u85cf\u5728\u6e32\u67d3\u7a0b\u5f0f\u78bc\u4e2d\u3002"),(0,r.kt)("h2",l({},{id:"vector-typographies"}),"\u5b57\u9ad4\u6392\u5370"),(0,r.kt)("p",null,"\u5982\u679c\u5b57\u9ad4\u6392\u5370\u5728TouchGFX Designer\u4e2d\u8a2d\u5b9a\u70ba\u4ee5\u5411\u91cf\u70ba\u57fa\u790e\uff0c\u5c31\u6703\u7522\u751f\u5411\u91cf\u5b57\u578b\u3002 \u8acb\u53c3\u95b1",(0,r.kt)("a",l({parentName:"p"},{href:"../designer-user-guide/texts-view#typographies"}),"Designer\u4f7f\u7528\u8005\u6307\u5357"),"\u3002"),(0,r.kt)("p",null,"\u5982\u679c\u591a\u500b\u5b57\u9ad4\u6392\u5370\u4f7f\u7528\u76f8\u540c\u5b57\u578b(\u4f8b\u5982Verdana)\uff0c\u5247\u5b57\u9ad4\u6392\u5370\u6703\u5728\u5c08\u6848\u4e2d\u5171\u7528\u5411\u91cf\u5b9a\u7fa9\uff0c\u4f46\u4f7f\u7528\u4e0d\u540c\u7e2e\u653e\u4fc2\u6578\u4ee5\u7522\u751f\u4e0d\u540c\u5927\u5c0f\u7684\u5b57\u7b26\u3002"),(0,r.kt)("p",null,"\u9019\u4e5f\u4ee3\u8868\u5404\u500b\u5b57\u9ad4\u6392\u5370\u7684",(0,r.kt)("inlineCode",{parentName:"p"},"Fallback Character")," (\u905e\u88dc\u5b57\u5143)\u53ca",(0,r.kt)("inlineCode",{parentName:"p"},"Ellipsis Character")," (\u7701\u7565\u865f\u5b57\u5143)\u7b49\u5b57\u9ad4\u6392\u5370\u5c6c\u6027\u5fc5\u9808\u76f8\u540c\u3002"),(0,r.kt)("p",null,"\u5b57\u9ad4\u6392\u5370\u4f7f\u7528\u7684\u5b57\u5143(\u5305\u62ec\u842c\u7528\u5b57\u5143)\u6703\u7d50\u5408\u5728\u4e00\u8d77\uff0c\u4e26\u63d0\u4f9b\u7d66\u5c08\u6848\u4e2d\u4f7f\u7528\u76f8\u540c\u5b57\u578b\u7684\u6240\u6709\u5b57\u9ad4\u6392\u5370\u3002"),(0,r.kt)("h2",l({},{id:"vector-architecture"}),"\u67b6\u69cb"),(0,r.kt)("p",null,"\u5411\u91cf\u5b57\u578b\u6e32\u67d3\u662f\u4ee5\u65b0\u5143\u4ef6",(0,r.kt)("inlineCode",{parentName:"p"},"VectorFontRenderer"),"\u70ba\u57fa\u790e\u3002 \u6b64\u5143\u4ef6\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"VectorRenderer"),"\u5143\u4ef6\u7e6a\u88fd\u5b57\u7b26\u3002"),(0,r.kt)("p",null,"\u5728\u4f7f\u7528\u5411\u91cf\u5b57\u578b\u7684\u5c08\u6848\u4e2d\uff0c\u9019\u5169\u9805\u5143\u4ef6\u5fc5\u9808\u70ba\u53ef\u7528\u3002 \u5982\u679c\u524d\u8ff0\u5169\u9805\u5143\u4ef6\u5df2\u555f\u7528\uff0c\u5c31\u6703\u7531STM32CubeMX\u81ea\u52d5\u63d0\u4f9b\u4f7f\u7528\u3002 \u5982\u679c\u60a8\u6c92\u6709\u4f7f\u7528STM32CubeMX\uff0c\u5c31\u5fc5\u9808\u624b\u52d5\u9032\u884c\u3002"),(0,r.kt)("p",null,"\u4ee5\u4e0b\u662fSTM32CubeMX\u7522\u751f\u7684\u7a0b\u5f0f\u78bc\uff0c\u4e26\u53cd\u767d\u7a81\u986f\u76f8\u95dc\u7a0b\u5f0f\u884c\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",l({parentName:"pre"},{className:"language-cpp",metastring:"{5-5,19-19}","{5-5,19-19}":!0}),"static STM32TouchController tc;\nstatic STM32DMA dma;\nstatic TouchGFXDataReader dataReader;\nstatic LCD16bppSerialFlash display(dataReader);\nstatic VectorFontRendererImpl vectorFontRenderer;\nstatic ApplicationFontProvider fontProvider;\nstatic Texts texts;\nstatic TouchGFXHAL hal(dma, display, tc, 240, 320);\n\nvoid touchgfx_init()\n{\n    Bitmap::registerBitmapDatabase(BitmapDatabase::getInstance(), BitmapDatabase::getInstanceSize());\n    TypedText::registerTexts(&texts);\n    Texts::setLanguage(0);\n\n    hal.setDataReader(&dataReader);\n    fontProvider.setFlashReader(&dataReader);\n\n    display.setVectorFontRenderer(&vectorFontRenderer);\n    ...\n")),(0,r.kt)("p",null,"\u4e5f\u5fc5\u9808\u63d0\u4f9b",(0,r.kt)("inlineCode",{parentName:"p"},"VectorRenderer"),"\u5143\u4ef6(\u4f86\u81ea",(0,r.kt)("inlineCode",{parentName:"p"},"TouchGFXGeneratedHAL.cpp"),")\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",l({parentName:"pre"},{className:"language-cpp"}),"namespace touchgfx\n{\nVectorRenderer* VectorRenderer::getInstance()\n{\n    static CWRVectorRendererRGB565 renderer;\n\n    return &renderer;\n}\n} // namespace touchgfx\n")),(0,r.kt)("p",null,"\u5982\u679c\u60a8\u4f7f\u7528\u5177\u6709GPU2D\u52a0\u901f\u5668\u7684\u5e73\u53f0\uff0c\u5c31\u61c9\u4f7f\u7528",(0,r.kt)("inlineCode",{parentName:"p"},"CPU2DVectorRenderer"),"\u53d6\u4ee3",(0,r.kt)("inlineCode",{parentName:"p"},"CWRVectorRendererRGB565"),"\u3002 \u9019\u6a23\u53ef\u4ee5\u555f\u7528\u786c\u9ad4\u52a0\u901f\u3002"),(0,r.kt)("h2",l({},{id:"vector-limitations"}),"\u9650\u5236"),(0,r.kt)("h3",l({},{id:"winding-rules"}),"Winding rules"),(0,r.kt)("p",null,"Vector font typographies used in TouchGFX applications are required to follow certain rules in order for glyphs to be drawn correctly. Specifically, glyphs with overlapping outlines are sometimes not rendered correctly due to the ",(0,r.kt)("em",{parentName:"p"},"winding rule")," deployed by TouchGFX when drawing vector fonts. To remove overlapping outlines from custom typographies, it is recommended to use the free ",(0,r.kt)("a",l({parentName:"p"},{href:"https://fontforge.org/en-US/downloads/windows/"}),(0,r.kt)("em",{parentName:"a"},"FontForge"))," tool."),(0,r.kt)("h4",l({},{id:"using-fontforge"}),"Using FontForge"),(0,r.kt)("p",null,"Navigate to the FontForge installation folder (usually ",(0,r.kt)("inlineCode",{parentName:"p"},"c:/Program Files (x86)/FontForgeBuilds"),") and launch the ",(0,r.kt)("inlineCode",{parentName:"p"},".exe"),":"),(0,r.kt)(o.Z,{width:"40%",imageSource:"/img/development/ui-development/touchgfx-engine-features/vector-fonts/ff-open-font.png",mdxType:"Figure"},"FontForge launch view."),(0,r.kt)("p",null,"Navigate to the ",(0,r.kt)("inlineCode",{parentName:"p"},"assets/fonts/")," folder of your project, e.g., ",(0,r.kt)("inlineCode",{parentName:"p"},"c:/TouchGFXProjects/MyApplication/TouchGFX/assets/fonts/"),". FontForge will detect all the ",(0,r.kt)("em",{parentName:"p"},"TrueType")," fonts in the application. In this example, the ",(0,r.kt)("em",{parentName:"p"},"Cairo-Bold.ttf")," TrueType font contains overlapping outlines which are not drawn correctly:"),(0,r.kt)(o.Z,{width:"40%",imageSource:"/img/development/ui-development/touchgfx-engine-features/vector-fonts/ff-select-font.png",mdxType:"Figure"},"FontForge open TrueType font view."),(0,r.kt)("p",null,"Clicking ",(0,r.kt)("inlineCode",{parentName:"p"},"OK")," will open the ",(0,r.kt)("em",{parentName:"p"},"font view")," of all the glyphs in the typography:"),(0,r.kt)(o.Z,{width:"80%",imageSource:"/img/development/ui-development/touchgfx-engine-features/vector-fonts/ff-font-view.png",mdxType:"Figure"},"FontForge font view."),(0,r.kt)("p",null,"To remove overlapping contours from glyphs, select all glyphs in the font view with ",(0,r.kt)(a.Z,{mdxType:"Shortcut"},"Ctrl + A"),". Next, with all glyphs selected use shortcut ",(0,r.kt)(a.Z,{mdxType:"Shortcut"},"Ctrl + u")," followed by ",(0,r.kt)(a.Z,{mdxType:"Shortcut"},"Ctrl + Shift + O")," to remove overlapping contours from selected glyphs. A blue mark will appear above all glyphs, indicating they have been changed. The effect can be seen by double-clicking on individual glyphs. An example is shown of the ",(0,r.kt)("inlineCode",{parentName:"p"},"$")," glyph from before and after removing overlapping contours below:"),(0,r.kt)(o.Z,{width:"80%",imageSource:"/img/development/ui-development/touchgfx-engine-features/vector-fonts/ff-dollar-glyph-comparison.png",noShadow:!0,mdxType:"Figure"},"$-glyph with overlapping contours (left) and non-overlapping contours (right)."),(0,r.kt)("p",null,"Observe that the outline of the glyph remains unaffected, but contours which were overlapping are merged. To use the non-overlapping typography in a TouchGFX application we use FontForge to export the new font. In the FontForge ",(0,r.kt)("em",{parentName:"p"},"font view"),", use shortcut ",(0,r.kt)(a.Z,{mdxType:"Shortcut"},"Ctrl + Shift + G")," to export the fonts. This opens the ",(0,r.kt)("em",{parentName:"p"},"Generate Fonts"),' view. It is recommended to rename the typography, e.g., with "-no-overlap" as a suffix, to avoid overwriting the original font in case of an error. Select ',(0,r.kt)("inlineCode",{parentName:"p"},"TrueType")," as output format. The settings should be set as shown below:"),(0,r.kt)(o.Z,{width:"30%",imageSource:"/img/development/ui-development/touchgfx-engine-features/vector-fonts/ff-generate-fonts.png",mdxType:"Figure"},"FontForge generate font settings."),(0,r.kt)("p",null,"Press ",(0,r.kt)("inlineCode",{parentName:"p"},"Generate")," to export the fonts. Press ",(0,r.kt)("em",{parentName:"p"},"Yes")," if warnings appear. The exported typography will appear next to the original TrueType font in the ",(0,r.kt)("inlineCode",{parentName:"p"},"assets/fonts/")," folder of your project. The original font can be removed from this folder and placed elsewhere on disk, to avoid having multiple typographies of the same name appear in the TouchGFX Designer. Restart TouchGFX Designer to make the new font visible in the font selector. If you had generated code in TouchGFX Designer before modifying the font, make sure to remove the ",(0,r.kt)("inlineCode",{parentName:"p"},"generated/fonts/")," folder before generating code again."),(0,r.kt)("h3",l({},{id:"vector-storage"}),"\u5132\u5b58"),(0,r.kt)("p",null,"\u5411\u91cf\u5b57\u578b\u8cc7\u6599\u5fc5\u9808\u5132\u5b58\u65bc\u8a18\u61b6\u9ad4\u6620\u5c04\u5340\u57df\uff0c \u4f8b\u5982\u5167\u90e8Flash\u3001\u8a18\u61b6\u9ad4\u6620\u5c04\u6a21\u5f0f\u7684\u5916\u90e8QSPI/OSPI Flash\u3001RAM\u6216\u5176\u4ed6\u985e\u4f3c\u8a18\u61b6\u9ad4\u3002"),(0,r.kt)("p",null,"\u5982\u679c\u60a8\u7684\u5e73\u53f0\u5728\u975e\u8a18\u61b6\u9ad4\u6620\u5c04\u8cc7\u6599\u5132\u5b58\u5176\u4ed6\u5b57\u578b\u8cc7\u6599\uff0c\u5c31\u5fc5\u9808\u8b8a\u66f4\u9023\u7d50\u5668\u8173\u672c\uff0c\u4ee5\u4fbf\u5c07\u6240\u6709\u5411\u91cf\u5b57\u578b\u8cc7\u6599\u79fb\u5f80\u5167\u90e8Flash\u7b49\u5730\u65b9\u3002 \u4ee5\u4e0b\u8aaa\u660e\u5982\u4f55\u4f7f\u7528ARM gcc\u9032\u884c\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",l({parentName:"pre"},{}),'  /* Constant data into "FLASH" Rom type memory */\n  .FontFlashSection :\n  {\n    . = ALIGN(4);\n    */Vector_*.o(FontFlashSection)         /* Vector font data  */\n    . = ALIGN(4);\n  } >FLASH\n\n  FontFlashSection :\n  {\n    *(FontFlashSection FontFlashSection.*)\n    *(.gnu.linkonce.r.*)\n    . = ALIGN(0x4);\n  } >SPI_FLASH\n')),(0,r.kt)("p",null,"\u9019\u6703\u5c07\u7b26\u5408",(0,r.kt)("inlineCode",{parentName:"p"},"*/Vector_*.o/"),"\u7684\u5b57\u578b\u8cc7\u6599\u7531\u6a94\u6848\u79fb\u5f80",(0,r.kt)("inlineCode",{parentName:"p"},"FLASH"),"\u5340\u57df\uff0c\u5176\u4ed6\u5b57\u578b\u8cc7\u6599\u5247\u79fb\u5f80",(0,r.kt)("inlineCode",{parentName:"p"},"SPI_FLASH"),"\u5340\u57df\u3002"),(0,r.kt)("p",null,"\u5411\u91cf\u5b57\u578b\u8cc7\u6599\u6703\u7522\u751f\u81f3\u6a94\u6848\u4e2d\uff0c\u4f8b\u5982",(0,r.kt)("inlineCode",{parentName:"p"},"generated/fonts/src/Vector_Font_Verdana.cpp"),"\u53ca\u985e\u4f3c\u6a94\u6848\u3002"),(0,r.kt)("h3",l({},{id:"\u6cf0\u6587"}),"\u6cf0\u6587"),(0,r.kt)("p",null,"\u76ee\u524d\u5df2\u77e5\u6cf0\u6587\u7121\u6cd5\u4ee5\u5411\u91cf\u5b57\u578b\u6b63\u78ba\u6e32\u67d3\u3002 \u89e3\u6c7a\u65b9\u6cd5\u662f\u91dd\u5c0d\u6cf0\u6587\u4f7f\u7528\u9ede\u9663\u5716\u5b57\u578b\u3002"))}h.isMDXComponent=!0}}]);