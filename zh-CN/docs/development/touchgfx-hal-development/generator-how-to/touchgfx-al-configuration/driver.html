<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/driver">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">驱动 | TouchGFX Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://support.touchgfx.com/4.23/zh-CN/img/meta-image.png"><meta data-rh="true" name="twitter:image" content="https://support.touchgfx.com/4.23/zh-CN/img/meta-image.png"><meta data-rh="true" property="og:url" content="https://support.touchgfx.com/4.23/zh-CN/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/driver"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="驱动 | TouchGFX Documentation"><meta data-rh="true" name="description" content="驱动部分允许开发人员为TouchGFX AL的各种功能选择驱动程序。"><meta data-rh="true" property="og:description" content="驱动部分允许开发人员为TouchGFX AL的各种功能选择驱动程序。"><link data-rh="true" rel="icon" href="/4.23/zh-CN/img/favicon.png"><link data-rh="true" rel="canonical" href="https://support.touchgfx.com/4.23/zh-CN/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/driver"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.23/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/driver" hreflang="en"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.23/ko/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/driver" hreflang="ko"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.23/ja/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/driver" hreflang="ja"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.23/zh-CN/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/driver" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.23/zh-TW/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/driver" hreflang="zh-TW"><link data-rh="true" rel="alternate" href="https://support.touchgfx.com/4.23/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/driver" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://B8LNOI0XWD-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="TouchGFX Documentation" href="/4.23/zh-CN/opensearch.xml">
<script src="/4.23/zh-CN/js/one-trust.js"></script>
<link rel="icon" href="/4.23/zh-CN/img/icons/icon-192x192.png">
<link rel="manifest" href="/4.23/zh-CN/manifest.json">
<meta name="theme-color" content="rgb(21, 142, 194)">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#000">
<link rel="apple-touch-icon" href="/4.23/zh-CN/img/icons/icon-192x192.png">
<link rel="mask-icon" href="/4.23/zh-CN/img/icon.svg" color="rgb(21, 142, 194)">
<meta name="msapplication-TileImage" content="/4.23/zh-CN/img/icons/icon-192x192.png">
<meta name="msapplication-TileColor" content="#000">
<script src="/4.23/js/fix-location.js"></script><link rel="stylesheet" href="/4.23/zh-CN/assets/css/styles.705b1c8b.css">
<link rel="preload" href="/4.23/zh-CN/assets/js/runtime~main.1c87613c.js" as="script">
<link rel="preload" href="/4.23/zh-CN/assets/js/main.f7794287.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><div role="region" aria-label="跳转到主要内容"><a class="skipToContent_Jw5H" href="#docusaurus_skipToContent_fallback">跳转到主要内容</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" target="_self" href="/4.23/zh-CN/docs/introduction/welcome"><div class="navbar__logo"><img src="/4.23/zh-CN/img/logo.svg" alt="TouchGFX" class="themedImage_U9aq themedImage--light_amxb"><img src="/4.23/zh-CN/img/logo.svg" alt="TouchGFX" class="themedImage_U9aq themedImage--dark_ZZjT"></div></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">简体中文</a><ul class="dropdown__menu"><li><a href="/4.23/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/driver" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/4.23/ko/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/driver" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ko">한국어</a></li><li><a href="/4.23/ja/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/driver" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">日本語</a></li><li><a href="/4.23/zh-CN/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/driver" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-CN">简体中文</a></li><li><a href="/4.23/zh-TW/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/driver" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-TW">繁體中文</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/4.23/zh-CN/docs/introduction/welcome">4.23</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/4.23/zh-CN/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/driver">4.23</a></li><li><a href="https://support.touchgfx.com/4.22" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.22<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_VeEK"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.21" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.21<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_VeEK"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.20" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.20<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_VeEK"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.19" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.19<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_VeEK"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.18" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.18<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_VeEK"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.17" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.17<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_VeEK"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.16" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.16<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_VeEK"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.15" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.15<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_VeEK"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.14" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.14<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_VeEK"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://support.touchgfx.com/4.13" target="_blank" rel="noopener noreferrer" class="dropdown__link">4.13<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_VeEK"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://community.st.com/s/topic/0TO0X0000003iw6WAA/touchgfx" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">社区</a><a href="https://touchgfx.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">TouchGFX.com</a><div class="searchBox_yuEi"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_lbN9 docsWrapper_ccTt"><button aria-label="滚动返回顶部" class="clean-btn theme-back-to-top-button backToTopButton_DXNY" type="button"></button><div class="docPage_uTI9"><aside class="theme-doc-sidebar-container docSidebarContainer_Hzzd"><div class="sidebarViewport_RvBb"><div class="sidebar__hAX"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_Ho7x"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.23/zh-CN/docs/category/introduction">介绍</a><button aria-label="切换可折叠边栏类别“介绍”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.23/zh-CN/docs/category/basic-concepts">基本概念</a><button aria-label="切换可折叠边栏类别“基本概念”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/4.23/zh-CN/docs/development/development-introduction">开发</a><button aria-label="切换可折叠边栏类别“开发”" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.23/zh-CN/docs/development/hardware-selection/hardware-selection-introduction">硬件选择</a><button aria-label="切换可折叠边栏类别“硬件选择”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.23/zh-CN/docs/development/board-bring-up/board-introduction">驱动板卡</a><button aria-label="切换可折叠边栏类别“驱动板卡”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/4.23/zh-CN/docs/development/touchgfx-hal-development/touchgfx-al-development-introduction">TouchGFX AL开发</a><button aria-label="切换可折叠边栏类别“TouchGFX AL开发”" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/4.23/zh-CN/docs/development/touchgfx-hal-development/touchgfx-architecture">抽象层架构</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/4.23/zh-CN/docs/category/generator-user-guide">Generator用户指南</a><button aria-label="切换可折叠边栏类别“Generator用户指南”" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/4.23/zh-CN/docs/development/touchgfx-hal-development/generator-how-to/enabling-touchgfx-generator">使能TouchGFX Generator</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/4.23/zh-CN/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration">Touchgfx AL配置</a><button aria-label="切换可折叠边栏类别“Touchgfx AL配置”" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/4.23/zh-CN/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/display">显示</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/4.23/zh-CN/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/driver">驱动</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/4.23/zh-CN/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/additional-features">附加功能</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/4.23/zh-CN/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/video-decoding">视频解码</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/4.23/zh-CN/docs/development/touchgfx-hal-development/generator-how-to/generating-code">生成代码</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/4.23/zh-CN/docs/development/touchgfx-hal-development/generator-how-to/modifying-generated-behavior">修改生成行为</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/4.23/zh-CN/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-designer-project">TouchGFX Designer项目</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/4.23/zh-CN/docs/development/touchgfx-hal-development/generator-how-to/upgrading-projects">升级项目</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.23/zh-CN/docs/category/scenarios">场景</a><button aria-label="切换可折叠边栏类别“场景”" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.23/zh-CN/docs/development/ui-development/ui-development-introduction">UI开发</a><button aria-label="切换可折叠边栏类别“UI开发”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/4.23/zh-CN/docs/category/scenarios-2">场景</a><button aria-label="切换可折叠边栏类别“场景”" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.23/zh-CN/docs/category/miscellaneous-1">其他情况</a><button aria-label="切换可折叠边栏类别“其他情况”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.23/zh-CN/docs/category/tutorials">指导</a><button aria-label="切换可折叠边栏类别“指导”" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/4.23/zh-CN/docs/api/classes/classtouchgfx_1_1_abstract_button">API</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/4.23/zh-CN/docs/category/resources">资源</a><button aria-label="切换可折叠边栏类别“资源”" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_b14P"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_fOfO"><div id="doc-version-banner-identifier" class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>这是<!-- -->TouchGFX Documentation<b>4.23</b> 的文档，该版本不再被主动维护。</div><div class="margin-top--md">如需最新文档，请参阅<b><a href="https://support.touchgfx.com/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/driver" target="_blank" rel="noopener noreferrer">最新版本</a></b>。</div></div><div class="docItemContainer_jCBY"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Ewxy" aria-label="面包屑导航"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/4.23/zh-CN/docs/development/development-introduction"><span itemprop="name">开发</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/4.23/zh-CN/docs/development/touchgfx-hal-development/touchgfx-al-development-introduction"><span itemprop="name">TouchGFX AL开发</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/4.23/zh-CN/docs/category/generator-user-guide"><span itemprop="name">Generator用户指南</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/4.23/zh-CN/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration"><span itemprop="name">Touchgfx AL配置</span></a><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">驱动</span><meta itemprop="position" content="5"></li></ul></nav><div class="tocCollapsible_RbLs theme-doc-toc-mobile tocMobile_FROF"><button type="button" class="clean-btn tocCollapsibleButton_SD6s">在当前页面</button></div><div class="theme-doc-markdown markdown"><header><h1>驱动</h1></header><p>驱动部分允许开发人员为TouchGFX AL的各种功能选择驱动程序。</p><div class="figure noshadow"><a href="/4.23/zh-CN/img/development/touchgfx-hal-development/touchgfx-generator/driver-settings.webp" target="_blank"><img width="350" src="/4.23/zh-CN/img/development/touchgfx-hal-development/touchgfx-generator/driver-settings.webp"></a><p>TouchGFX Generator驱动程序设置</p></div><h2 class="anchor anchorWithStickyNavbar_iKJU" id="application-tick-source">应用滴答计时源<a href="#application-tick-source" class="hash-link" aria-label="Direct link to 应用滴答计时源" title="Direct link to 应用滴答计时源">​</a></h2><p>应用程序的滴答计时源定义了如何驱动应用程序向前执行。 开发人员具有以下选项：</p><ul><li><strong>LTDC</strong> - If LTDC is selected as the interface in the &quot;Display&quot; group, the Application Tick Source can be &quot;LTDC&quot;. 这意味着TouchGFX Generator将在<code>TouchGFXGeneratedHAL</code>类中生成驱动程序函数（LTDC中断处理程序），该函数通过调用<code>OSWrappers::signalVSync()</code>来驱动应用程序向前执行。</li><li><strong>自定义和FMC </strong>- 在这种情况下，开发人员需要实现一个处理程序，来重复调用<code>OSWrappers::signalVSync()</code>函数，驱动应用程序向前执行。</li></ul><div class="highlight highlight-further-reading"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></div>Further reading</h5></div><div class="highlight-content">有关实现自定义应用程序滴答计时源的更多信息，请参阅<a href="/4.23/zh-CN/docs/development/touchgfx-hal-development/scenarios/scenarios-fmc">FMC和SPI显示接口</a>场景</div></div><h2 class="anchor anchorWithStickyNavbar_iKJU" id="graphics-accelerator">DMA2D Accelerator (ChromART)<a href="#graphics-accelerator" class="hash-link" aria-label="Direct link to DMA2D Accelerator (ChromART)" title="Direct link to DMA2D Accelerator (ChromART)">​</a></h2><p>对于DMA2D图形加速，开发人员有三个选项：</p><ul><li><strong>No</strong> - The application renders using only the CPU.</li><li><strong>Yes</strong> - The application uses the ChromART chip when possible to move and blend pixels, freeing up CPU cycles. 驱动程序由TouchGFX Generator生成，不需要开发人员采取任何措施。</li><li><strong>自定义</strong> - TouchGFX Generator 生成通用型TouchGFX DMA类，该类由TouchGFX 引擎中的DMA接口派生而来，开发人员必须为自定义图形加速器实现的成员函数。</li></ul><p>To be able to select DMA2D Accelerator in TouchGFX Generator, it must be enabled in the <i>Multimedia</i> category in STM32CubeMX:</p><div class="figure noshadow"><a href="/4.23/zh-CN/img/development/touchgfx-hal-development/touchgfx-generator/multimedia-group-dma2d.webp" target="_blank"><img width="250" src="/4.23/zh-CN/img/development/touchgfx-hal-development/touchgfx-generator/multimedia-group-dma2d.webp"></a><p>对于支持DMA2D的MCUS，可在STM32CubeMX中的多媒体类别中启用DMA2D。</p></div><p>TouchGFX Generator生成的DMA2D（ChromART）驱动程序支持两种接收TransferCompleteInterrupt的方式：</p><ol><li>使用STM32Cube HAL驱动程序，其将回调函数注册到dma2d句柄<code>hdma2d.XferCpltCallback</code>。</li><li>直接使用<code>DMA2D_IRQHandler()</code>中断处理程序。</li></ol><p>通过在STM32CubeMX中的DMA2D IP的NVIC设置中启用或禁用DMA2D全局中断，可以在这两者之间进行切换：</p><div class="figure noshadow"><a href="/4.23/zh-CN/img/development/touchgfx-hal-development/touchgfx-generator/dma2d-interrupt.webp" target="_blank"><img width="400" src="/4.23/zh-CN/img/development/touchgfx-hal-development/touchgfx-generator/dma2d-interrupt.webp"></a><p>STM32CubeMX系统核心类别下的NVIC设置中启用/禁用DMA2D全局中断</p></div><p>选项1）启用全局中断生成的代码，选项2）禁用全局中断生成的代码。</p><div class="highlight highlight-note"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></div>Note</h5></div><div class="highlight-content"><li>对DMA2D使用全局中断时，请确保“ IRQ处理程序”调用“ DMA2D HAL处理程序”。 这是默认行为。</li><li>如果在启用全局中断的同时禁用DMA2D的“ IRQ处理程序”和“调用HAL处理程序”，将导致永不调用已注册的回调。</li></div></div><h2 class="anchor anchorWithStickyNavbar_iKJU" id="gpu2d-accelerator">GPU2D Accelerator (NeoChrom)<a href="#gpu2d-accelerator" class="hash-link" aria-label="Direct link to GPU2D Accelerator (NeoChrom)" title="Direct link to GPU2D Accelerator (NeoChrom)">​</a></h2><p>GPU2D（NeoChrom）是一种图形加速器，能够加速TouchGFX中的许多绘图操作，包括纹理映射和<a href="/4.23/zh-CN/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/additional-features#vector-rendering">矢量渲染</a>。 它支持RGB565、RGB888和ARGB8888格式的帧缓存。</p><p>对于GPU2D图形加速，开发人员有两个选项：</p><ul><li><strong>No</strong> - The application draws using only the CPU.</li><li><strong>Yes</strong> - The application uses the NeoChrom chip when possible to accelerate many drawing operations done by TouchGFX. 驱动程序由TouchGFX Generator生成，不需要开发人员采取任何措施。</li></ul><p>To be able to select GPU2D Accelerator in TouchGFX Generator, it must be enabled in the Multimedia category in STM32CubeMX:</p><div class="figure noshadow"><a href="/4.23/zh-CN/img/development/touchgfx-hal-development/touchgfx-generator/multimedia-group-gpu2d.webp" target="_blank"><img width="250" src="/4.23/zh-CN/img/development/touchgfx-hal-development/touchgfx-generator/multimedia-group-gpu2d.webp"></a><p>对于支持GPU2D的MCUS，可在CubeMX中的*多媒体*类别中启用GPU2D。</p></div><div class="highlight highlight-note"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></div>Note</h5></div><div class="highlight-content">只有当STM32CubeMX中项目的<i>多媒体</i>部分启用了GPU2D, GPU2D选项才可见。 它仅适用于STM32U599芯片，并且只有在<i>中间件</i>部分的ThreadX RTOS同样启用或运行裸机应用程序（无操作系统）的情况下，才能与TouchGFX一起使用。</div></div><p>启用后，TouchGFX 生成器将出现一个新部分（<strong>GPU2D驱动程序</strong>）：</p><div class="figure noshadow"><a href="/4.23/zh-CN/img/development/touchgfx-hal-development/touchgfx-generator/gpu2d-driver.png" target="_blank"><img width="300" src="/4.23/zh-CN/img/development/touchgfx-hal-development/touchgfx-generator/gpu2d-driver.png"></a><p>GPU2D驱动程序设置</p></div><p><em>GPU2D Command List Size</em>（命令列表大小）设置以字节为单位设置GPU2D使用的命令列表的大小。</p><div class="highlight highlight-note"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></div>Note</h5></div><div class="highlight-content">When <a href="/4.23/zh-CN/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/additional-features#vector-rendering">Vector Rendering</a> is also enabled with the <i>hardware</i> option in the application another memory pool for a *stencil buffer* to perform vector rendering operations is created by the TouchGFX Generator. The size of this memory pool is: <i>(Display Width * Display Height bytes)</i> + <i>5kb extra margin</i>. This will therefore consume more RAM. Users can opt for the <i>software</i> option to save RAM at the expense of slower performance.</div></div><h2 class="anchor anchorWithStickyNavbar_iKJU" id="real-time-operating-system">实时操作系统<a href="#real-time-operating-system" class="hash-link" aria-label="Direct link to 实时操作系统" title="Direct link to 实时操作系统">​</a></h2><p>开发人员可使用任何支持TouchGFX的RTOS（甚至无操作系统）。 如<a href="/4.23/zh-CN/docs/development/touchgfx-hal-development/touchgfx-architecture">抽象层架构</a>中所述，TouchGFX 引擎使用<code>OSWrappers</code>接口将其主事件循环以及帧缓存访问与用户选择的RTOS同步。 当开发者通过TouchGFX Generator选择操作系统时，将生成代码并通过所选操作系统的基元实现内部同步。 操作系统仍然必须通过STM32CubeMX进行配置，以确定堆栈大小等。</p><p>FreeRTOS (CMSIS OS V1和V2)和ThreadX(本地中间件或Azure RTOS软件包)可直接在STM32CubeMX中进行配置，TouchGFX Generator为用户提供任务定义和TouchGFX RTOS驱动程序的生成代码。 TouchGFX Generator 可生成符合CMSIS V1和CMSIS V2标准的RTOS驱动程序，与任何符合CMSIS标准的RTOS一起运行，一个用于ThreadX的驱动程序，一个用于在没有操作系统（无操作系统）的情况下运行裸机的驱动程序。</p><h3 class="anchor anchorWithStickyNavbar_iKJU" id="no-os">无OS<a href="#no-os" class="hash-link" aria-label="Direct link to 无OS" title="Direct link to 无OS">​</a></h3><p>If it is desired to run TouchGFX with no operating system, the <em>No OS</em> option in TouchGFX Generator becomes available if no operating system is enabled in the <em>Middleware and Software Packs</em> category, or selected as an <em>X-CUBE</em> in STM32CubeMX.</p><div class="highlight highlight-further-reading"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></div>Further reading</h5></div><div class="highlight-content">有关运行裸机应用程序时TouchGFX Generator生成的代码详细信息，请参阅<a href="/4.23/zh-CN/docs/development/touchgfx-hal-development/scenarios/scenarios-configure-rtos">Real Time Operating System（实时操作系统）</a>场景。</div></div><h3 class="anchor anchorWithStickyNavbar_iKJU" id="freertos-middleware-os">FreeRTOS<a href="#freertos-middleware-os" class="hash-link" aria-label="Direct link to FreeRTOS" title="Direct link to FreeRTOS">​</a></h3><p>To be able to select CMSIS_RTOS_V1 or CMSIS_RTOS_V2 in TouchGFX Generator, FreeRTOS must be enabled in the <em>Middleware and Software Packs</em> category in STM32CubeMX:</p><div class="figure noshadow"><a href="/4.23/zh-CN/img/development/touchgfx-hal-development/touchgfx-generator/free-rtos-middleware.webp" target="_blank"><img width="400" src="/4.23/zh-CN/img/development/touchgfx-hal-development/touchgfx-generator/free-rtos-middleware.webp"></a><p>STM32CubeMX项目中启用了FreeRTOS</p></div><p>Some TouchGFX Board Setups are not configured to use FreeRTOS Middleware by default, but ThreadX or NoOS (e.g. STM32U599). If you still want to use FreeRTOS with these TouchGFX Board Setups, you must download the X-CUBE-FreeRTOS pack in the <em>Software Packs Components Selector</em> of STM32CubeMX, and enable it.</p><div class="figure noshadow"><a href="/4.23/zh-CN/img/development/touchgfx-hal-development/touchgfx-generator/free-rtos-software-packs.webp" target="_blank"><img width="800" src="/4.23/zh-CN/img/development/touchgfx-hal-development/touchgfx-generator/free-rtos-software-packs.webp"></a><p>FreeRTOS enabled in the Software Packs Components Selector</p></div><div class="highlight highlight-further-reading"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></div>Further reading</h5></div><div class="highlight-content">有关如何为TouchGFX应用程序配置FreeRTOS（CMSIS_RTOS_V1和CMSIS_RTOS_V2）的详细信息，请参阅<a href="/4.23/zh-CN/docs/development/touchgfx-hal-development/scenarios/scenarios-configure-rtos"> Real Time Operating System发（实时操作系统）</a>场景。</div></div><h3 class="anchor anchorWithStickyNavbar_iKJU" id="threadx">ThreadX<a href="#threadx" class="hash-link" aria-label="Direct link to ThreadX" title="Direct link to ThreadX">​</a></h3><p>ThreadX can be enabled either by selecting a <em>X-CUBE</em> Software Pack or by enabling the native ThreadX Middleware from STM32CubeMX, if available for the selected MCU device.</p><p>The developer should find out if ThreadX is configured as an <em>X-CUBE</em> Software Pack or as native ThreadX Middleware for their specific MCU family.</p><div class="highlight highlight-note"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></div>Note</h5></div><div class="highlight-content"><li>默认情况下，所有新型STM32 MCU器件均支持直接来自STM32CubeMX <i>Middleware（中间件）</i>类别的ThreadX，无需另外下载。 TouchGFX 板级支持包将缓慢过渡到使用可用的ThreadX中间件或X-CUBE-AZRTOS软件包。</li><li>提供ThreadX支持的X-CUBE-ARTOS-XX软件包适用于各种STM32 MCU系列，可在STM32CubeMX中的<i>Embedded Software Packages Manager（嵌入式软件包管理器）</i>中找到。</li></div></div><p>以下各节将展示如何将ThreadX作为<em>Middleware（中间件）</em>或<em>AZRTOS Software Pack（软件包）</em>用于应用程序。</p><h4 class="anchor anchorWithStickyNavbar_iKJU" id="threadx-middleware">Enabling ThreadX from <em>Middleware and Software Packs</em> category<a href="#threadx-middleware" class="hash-link" aria-label="Direct link to threadx-middleware" title="Direct link to threadx-middleware">​</a></h4><p>To be able to select ThreadX in TouchGFX Generator, ThreadX must be enabled in the <em>Middleware and Software Packs</em> category in STM32CubeMX.</p><div class="figure noshadow"><a href="/4.23/zh-CN/img/development/touchgfx-hal-development/touchgfx-generator/threadx-middleware.webp" target="_blank"><img width="300" src="/4.23/zh-CN/img/development/touchgfx-hal-development/touchgfx-generator/threadx-middleware.webp"></a><p>ThreadX from Middleware and Software Packs enabled in STM32CubeMX project</p></div><p>Once enabled, the ThreadX option becomes available in TouchGFX Generator.</p><div class="highlight highlight-further-reading"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></div>Further reading</h5></div><div class="highlight-content">有关如何将ThreadX配置为TouchGFX应用程序的本地中间件的详细信息，请参阅<a href="/4.23/zh-CN/docs/development/touchgfx-hal-development/scenarios/scenarios-configure-rtos">Real Time Operating System（实时操作系统）</a>场景。</div></div><h4 class="anchor anchorWithStickyNavbar_iKJU" id="threadx-xcube">从<em>X-CUB</em>E软件包启用ThreadX<a href="#threadx-xcube" class="hash-link" aria-label="Direct link to threadx-xcube" title="Direct link to threadx-xcube">​</a></h4><p>要在TouchGFX Generator中选择ThreadX，必须在STM32CubeMX中的<em>Software Packs Component Selector（软件包组件选择器）</em>中启用AZRTOS Software Pack（软件包）。 在项目中，单击 <code class="shortcut">STM32CubeMX项目菜单中的“Select Components（选择组件）”按钮或Alt+o</code> 。</p><div class="figure noshadow"><a href="/4.23/zh-CN/img/development/touchgfx-hal-development/enable-generator.webp" target="_blank"><img width="700" src="/4.23/zh-CN/img/development/touchgfx-hal-development/enable-generator.webp"></a><p>选择STM32CubeMX中的附加软件</p></div><p>下图显示了项目中如何使能AZRTOS软件包。 选择<strong><em>RTOS </em>ThreadX</strong>并点击<strong>Core</strong>复选框以启用ThreadX。 下载并安装软件包（如尚未完成）。</p><div class="figure noshadow"><a href="/4.23/zh-CN/img/development/touchgfx-hal-development/touchgfx-generator/x-cube-azurertos.webp" target="_blank"><img width="400" src="/4.23/zh-CN/img/development/touchgfx-hal-development/touchgfx-generator/x-cube-azurertos.webp"></a><p>从X-CUBE-AZRTOS软件包启用ThreadX</p></div><p>After having added ThreadX Software Pack to the project, the <em>X-CUBE</em> should be visible under the <em>Middleware and Software Packs</em> category on the left side of the project menu in STM32CubeMX.</p><div class="figure noshadow"><a href="/4.23/zh-CN/img/development/touchgfx-hal-development/touchgfx-generator/threadx-enabled.webp" target="_blank"><img width="200" src="/4.23/zh-CN/img/development/touchgfx-hal-development/touchgfx-generator/threadx-enabled.webp"></a><p>STM32CubeMX项目中启用了X-CUBE-AZRTOS的ThreadX</p></div><p>Once ThreadX is enabled, it also becomes an available option in TouchGFX Generator, and after selecting it the <strong>Memory Pool Size</strong> and <strong>Memory Stack Size</strong> values will appear:</p><div class="figure noshadow"><a href="/4.23/zh-CN/img/development/touchgfx-hal-development/touchgfx-generator/threadx-config-in-generator.webp" target="_blank"><img width="400" src="/4.23/zh-CN/img/development/touchgfx-hal-development/touchgfx-generator/threadx-config-in-generator.webp"></a><p>ThreadX selected in TouchGFX Generator</p></div><p>Those values should be large enough to contain threads ressources.</p><div class="highlight highlight-further-reading"><div class="highlight-heading"><h5><div class="highlight-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></div>Further reading</h5></div><div class="highlight-content">有关如何将ThreadX配置为TouchGFX应用程序的X-CUBE的详细信息，请参阅<a href="/4.23/zh-CN/docs/development/touchgfx-hal-development/scenarios/scenarios-configure-rtos">Real Time Operating System（实时操作系统）</a>场景。</div></div><h3 class="anchor anchorWithStickyNavbar_iKJU" id="other-cmsis-compliant-os">其他兼容CMSIS的OS<a href="#other-cmsis-compliant-os" class="hash-link" aria-label="Direct link to 其他兼容CMSIS的OS" title="Direct link to 其他兼容CMSIS的OS">​</a></h3><p>当开发人员采用与STM32CubeMX提供的操作系统（FreeRTOS和ThreadX）不同的其他兼容CMSIS的操作系统时，他必须手动完成RTOS配置和任务定义。 TouchGFX Generator将生成一个开发人员必须实现的空<code>OSWrappers</code>接口。 通常，需要执行以下手动步骤：</p><ol><li>配置RTOS</li><li>实现<code>OSWrappers</code>接口</li><li>定义任务以运行TouchGFX (<code>MX_TouchGFX_Process</code>)</li><li>启动调度器</li></ol><p>调用<code>MX_TouchGFX_Process</code>，以启动任务处理程序中的TouchGFX Engine主循环。</p><div class="language-cpp codeBlockContainer_yoAf theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_g2Cy"><pre tabindex="0" class="prism-code language-cpp codeBlock_wQCy thin-scrollbar"><code class="codeBlockLines_k3Fx"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">MX_TouchGFX_Process</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><br></span></code></pre><div class="buttonGroup_Dtij"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_nUkV" aria-hidden="true"><svg class="copyButtonIcon_wYeQ" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_YD13" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档页面导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/4.23/zh-CN/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/display"><div class="pagination-nav__sublabel">上一个</div><div class="pagination-nav__label">显示</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/4.23/zh-CN/docs/development/touchgfx-hal-development/generator-how-to/touchgfx-al-configuration/additional-features"><div class="pagination-nav__sublabel">下一个</div><div class="pagination-nav__label">附加功能</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_lNbC thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#application-tick-source" class="table-of-contents__link toc-highlight">应用滴答计时源</a></li><li><a href="#graphics-accelerator" class="table-of-contents__link toc-highlight">DMA2D Accelerator (ChromART)</a></li><li><a href="#gpu2d-accelerator" class="table-of-contents__link toc-highlight">GPU2D Accelerator (NeoChrom)</a></li><li><a href="#real-time-operating-system" class="table-of-contents__link toc-highlight">实时操作系统</a><ul><li><a href="#no-os" class="table-of-contents__link toc-highlight">无OS</a></li><li><a href="#freertos-middleware-os" class="table-of-contents__link toc-highlight">FreeRTOS</a></li><li><a href="#threadx" class="table-of-contents__link toc-highlight">ThreadX</a></li><li><a href="#other-cmsis-compliant-os" class="table-of-contents__link toc-highlight">其他兼容CMSIS的OS</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">版权所有 © 2023 意法半导体 | <a href="https://www.st.com/content/st_com/en/common/terms-of-use.html">使用条款</a> | <a href="https://www.st.com/content/st_com/en/common/privacy-policy.html">隐私政策</a> | <a href="/docs/miscellaneous/cookie-policy">Cookie政策</a> | <a href="https://app-de.onetrust.com/app/#/webform/2b87200d-4023-4588-9df7-ab0cdea1a67e">行使您的权利</a></div></div></div></footer></div></div>
<script src="/4.23/zh-CN/assets/js/runtime~main.1c87613c.js"></script>
<script src="/4.23/zh-CN/assets/js/main.f7794287.js"></script>
</body>
</html>